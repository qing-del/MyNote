# 函数
## 目录
- [count 函数](#count-函数)
- [case 函数](#case-函数)
- [if 函数](#if-函数)

---

### count 函数
* 作用：用于统计表中的数据量
```sql
-- 查询表中的数据量
select count(*) from emp；

-- 查询表中有几种不同的工资
select count(salary) from emp;
```

---

### case 函数
* 作用：将结果用另一种方式展现出来
* **cass 函数语法**：
```text
第一种形式：
case 表达式 when val1 then result1 when val2 then result2 ... [else result_default] end

第二种形式：
case when 表达式 then result1 when 表达式 then result2 ... [else result_default] end
```

<br>

* 运用到例子中：
```sql
-- 用第一种形式编写
select 
    case job 
        when 1 then '班主任' 
        when 2 then '讲师' 
        when 3 then '学工主管' 
        when 4 then '教研主管' 
        when 5 then '咨询师' 
        else '其他' end
    as pos,
    count(*) as num
from emp group by job order by num desc;
```

```sql
-- 用第二种形式编写 （通用性更高）
select 
    case 
        when job = 1 then '班主任'
        when job = 2 then '讲师'
        when job = 3 then '学工主管'
        when job = 4 then '教研主管'
        when job = 5 then '咨询师'
        else '其他' end
    as pos,
    count(*) as num
from emp group by job order by num desc;
```

>  **注意：** 第一种只能用于等值匹配，第二种的通用性会更高

---

### if 函数
* if 函数作用：类似于分支更少的 case 函数
```sql
-- emp.gender 属性 1 代表男性，2 代表女性
select 
    if(gender = 1, '男性员工', '女性员工') name,
    count(*) value
from emp group by gender;
```

* ifnull 函数作用：如果值本身不为null 取自身，否则取规定值
```sql
-- 查询员工的部门id  如果为null 那么分配到 id 为 0 部门
select 
    name,
    ifnull(dept_id, 0),
from emp;
```